{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/enricrypto/git2020/smarthub_local_mobile/components/Modal.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState } from \"react\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Cam from \"./Cam\";\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    var isShowing = '';\n    var hide = '';\n    var callback = '';\n    _this = _super.call(this, props);\n    _this.state = {\n      modalVisible: false\n    };\n\n    _this.setModalVisible = function (visible) {\n      _this.setState({\n        modalVisible: visible\n      });\n    };\n\n    var handleScan = function handleScan(data) {\n      if (data) {\n        hide();\n        var obj = {\n          address: getQrCode(data),\n          amount: getAmountFromQrCode(data)\n        };\n        callback(obj);\n      }\n    };\n\n    var getQrCode = function getQrCode(content) {\n      var qrCode = content;\n\n      if (qrCode.includes(\":\")) {\n        qrCode = qrCode.substring(qrCode.indexOf(\":\") + 1);\n      }\n\n      if (qrCode.includes(\"?\")) {\n        qrCode = qrCode.substring(0, qrCode.indexOf(\"?\"));\n      }\n\n      return qrCode;\n    };\n\n    var getAmountFromQrCode = function getAmountFromQrCode(content) {\n      var results = new RegExp(\"[?&]amount=([^&#]*)\").exec(content);\n      return (results == null ? void 0 : results.length) ? results[1] : null;\n    };\n\n    var handleError = function handleError(err) {\n      console.error(err);\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var modalVisible = this.state.modalVisible;\n      return React.createElement(View, {\n        style: styles.centeredView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }\n      }, React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: modalVisible,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.centeredView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, React.createElement(Cam, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }\n      }), React.createElement(TouchableHighlight, {\n        style: _objectSpread(_objectSpread({}, styles.openButton), {}, {\n          backgroundColor: \"#2196F3\"\n        }),\n        onPress: function onPress() {\n          _this2.setModalVisible(!modalVisible);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, \"Close\"))))), React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          _this2.setModalVisible(true);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: styles.qrcode,\n        source: require(\"../assets/images/qrcode.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar styles = StyleSheet.create({\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  qrcode: {\n    padding: 15,\n    width: 30,\n    height: 30\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 50,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  openButton: {\n    backgroundColor: \"#f1f1f1\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});\nexport default App;","map":{"version":3,"sources":["/Users/enricrypto/git2020/smarthub_local_mobile/components/Modal.js"],"names":["React","Component","useState","Cam","App","props","isShowing","hide","callback","state","modalVisible","setModalVisible","visible","setState","handleScan","data","obj","address","getQrCode","amount","getAmountFromQrCode","content","qrCode","includes","substring","indexOf","results","RegExp","exec","length","handleError","err","console","error","styles","centeredView","openButton","backgroundColor","textStyle","qrcode","require","StyleSheet","create","flex","justifyContent","alignItems","padding","width","height","modalView","margin","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","color","fontWeight","textAlign","modalText","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport {\n  Modal,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  View, \n  Image\n} from \"react-native\";\nimport Cam from './Cam';\n\nclass App extends Component {\n  constructor(props) {\n    const isShowing ='';\n    const hide = '';\n    const callback ='';\n    super(props);\n\n    const handleScan = (data) => {\n      if (data) {\n        hide();\n        const obj = {\n          address: getQrCode(data),\n          amount: getAmountFromQrCode(data),\n        };\n        callback(obj);\n      }\n    };\n    const getQrCode = (content) => {\n      var qrCode = content;\n  \n      if (qrCode.includes(\":\")) {\n        qrCode = qrCode.substring(qrCode.indexOf(\":\") + 1);\n      }\n  \n      if (qrCode.includes(\"?\")) {\n        qrCode = qrCode.substring(0, qrCode.indexOf(\"?\"));\n      }\n  \n      return qrCode;\n    };\n    const getAmountFromQrCode = (content) => {\n      const results = new RegExp(\"[?&]amount=([^&#]*)\").exec(content);\n      return results?.length ? results[1] : null;\n    };\n    const handleError = (err) => {console.error(err);}\n  }\n  \n  state = {\n    modalVisible: false\n  };\n\n  setModalVisible = (visible) => {\n    this.setState({ modalVisible: visible });\n  }\n\n  render() {\n    const { modalVisible } = this.state;\n    return (\n      <View style={styles.centeredView}>\n        <Modal\n          animationType=\"slide\"\n          transparent={true}\n          visible={modalVisible}\n        >\n          <View style={styles.centeredView}>\n            <View>              \n              <Cam/>\n              <TouchableHighlight\n                style={{ ...styles.openButton, backgroundColor: \"#2196F3\" }}\n                onPress={() => {\n                  this.setModalVisible(!modalVisible);\n                }}\n              >\n                <Text style={styles.textStyle}>Close</Text>\n              </TouchableHighlight>\n            </View>\n          </View>\n        </Modal>\n\n        <TouchableHighlight\n          onPress={() => {\n            this.setModalVisible(true);\n          }}\n        >\n          <Image\n            style={styles.qrcode}\n            source={require('../assets/images/qrcode.png')}\n            />\n        </TouchableHighlight>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  qrcode: {\n    padding: 15,\n    width: 30,\n    height: 30,\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 50,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  openButton: {\n    backgroundColor: \"#f1f1f1\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}